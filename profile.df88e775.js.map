{"version":3,"sources":["../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/bundle-loader.js","pages/profile/library.ts","pages/profile/model/model.ts","pages/profile/ui/tabs.tsx","pages/profile/ui/edit-mode.tsx","pages/profile/ui/follow-user.tsx","pages/profile/ui/user-info.tsx","pages/profile/model/init.ts","pages/profile/ui/profile.tsx","pages/profile/index.ts","../node_modules/parcel-bundler/src/builtins/loaders/browser/js-loader.js"],"names":["bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","require","loadBundlesLazy","bundles","Array","isArray","id","length","Promise","resolve","code","LazyPromise","reject","loadBundles","slice","then","all","map","loadBundle","bundleLoaders","registerBundleLoader","type","loader","module","load","register","bundle","substring","lastIndexOf","toLowerCase","bundleLoader","resolved","catch","e","executor","promise","prototype","onSuccess","onError","script","document","createElement","async","charset","src","onerror","onload","getElementsByTagName","appendChild"],"mappings":"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","file":"profile.df88e775.js","sourceRoot":"../src","sourcesContent":["var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var getBundleURL = require('./bundle-url').getBundleURL;\n\nfunction loadBundlesLazy(bundles) {\n  if (!Array.isArray(bundles)) {\n    bundles = [bundles]\n  }\n\n  var id = bundles[bundles.length - 1];\n\n  try {\n    return Promise.resolve(require(id));\n  } catch (err) {\n    if (err.code === 'MODULE_NOT_FOUND') {\n      return new LazyPromise(function (resolve, reject) {\n        loadBundles(bundles.slice(0, -1))\n          .then(function () {\n            return require(id);\n          })\n          .then(resolve, reject);\n      });\n    }\n\n    throw err;\n  }\n}\n\nfunction loadBundles(bundles) {\n  return Promise.all(bundles.map(loadBundle));\n}\n\nvar bundleLoaders = {};\nfunction registerBundleLoader(type, loader) {\n  bundleLoaders[type] = loader;\n}\n\nmodule.exports = exports = loadBundlesLazy;\nexports.load = loadBundles;\nexports.register = registerBundleLoader;\n\nvar bundles = {};\nfunction loadBundle(bundle) {\n  var id;\n  if (Array.isArray(bundle)) {\n    id = bundle[1];\n    bundle = bundle[0];\n  }\n\n  if (bundles[bundle]) {\n    return bundles[bundle];\n  }\n\n  var type = (bundle.substring(bundle.lastIndexOf('.') + 1, bundle.length) || bundle).toLowerCase();\n  var bundleLoader = bundleLoaders[type];\n  if (bundleLoader) {\n    return bundles[bundle] = bundleLoader(getBundleURL() + bundle)\n      .then(function (resolved) {\n        if (resolved) {\n          module.bundle.register(id, resolved);\n        }\n\n        return resolved;\n      }).catch(function(e) {\n        delete bundles[bundle];\n        \n        throw e;\n      });\n  }\n}\n\nfunction LazyPromise(executor) {\n  this.executor = executor;\n  this.promise = null;\n}\n\nLazyPromise.prototype.then = function (onSuccess, onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.then(onSuccess, onError)\n};\n\nLazyPromise.prototype.catch = function (onError) {\n  if (this.promise === null) this.promise = new Promise(this.executor)\n  return this.promise.catch(onError)\n};\n","import { lazy } from 'react';\nimport { Paths } from 'library/router';\n\nexport const routes = [\n  {\n    path: Paths.PROFILE,\n    exact: true,\n    component: lazy(() =>\n      import('./pages/my-articles/ui/my-articles').then((x) => ({\n        default: x.MyArticles,\n      })),\n    ),\n  },\n  {\n    path: Paths.PROFILE_FAVORITES,\n    exact: true,\n    component: lazy(() =>\n      import('./pages/favorited-articles/ui/favorited-articles').then((x) => ({\n        default: x.FavoritedArticles,\n      })),\n    ),\n  },\n  {\n    path: '*',\n    component: lazy(() =>\n      import('../not-match').then((x) => ({ default: x.NotMatchPage })),\n    ),\n  },\n];\n","import { createEvent, createEffect, createStore, combine } from 'effector';\nimport { createGate } from 'effector-react';\nimport * as api from 'api';\nimport * as authUser from 'features/user';\nimport * as types from './types';\n\nexport const toggleFollowing = createEvent<React.MouseEvent>();\n\nexport const fetchProfileFx = createEffect((username: string) =>\n  api\n    .get<types.GetProfileFxDone>(`/profiles/${username}`)\n    .then<types.Profile>((x) => x.profile),\n);\n\nexport const subscribeFx = createEffect((username: string) =>\n  api\n    .post<types.GetProfileFxDone>(`/profiles/${username}/follow`)\n    .then<types.Profile>((x) => x.profile),\n);\n\nexport const unsubscribeFx = createEffect((username: string) =>\n  api\n    .del<types.GetProfileFxDone>(`/profiles/${username}/follow`)\n    .then<types.Profile>((x) => x.profile),\n);\n\nexport const PageGate = createGate<types.PageGateType>();\n\nexport const $username = createStore<string>('');\nexport const $profile = createStore<types.Profile>({\n  bio: '',\n  following: false,\n  image: '',\n  username: '',\n});\n\nexport const $following = $profile.map((x) => x.following);\nexport const $thenSubscribed = $profile.map((x) => x.following === true);\nexport const $thenUnsubscribed = $profile.map((x) => x.following === false);\n\nexport const $isCurrentUser = combine(\n  $profile,\n  authUser.model.$user,\n  (profile, user) => profile.username === user.username,\n);\n\nexport const $isAnotherUser = $isCurrentUser.map((x) => !x);\n","import React from 'react';\nimport { NavItem, NavLink } from 'ui';\n\ntype Props = Readonly<{\n  path: string;\n}>;\n\nexport const Tabs: React.FC<Props> = ({ path, children }) => (\n  <div className=\"col-xs-12 col-md-10 offset-md-1\">\n    <ul className=\"nav nav-pills outline-active articles-toggle\">\n      <NavItem>\n        <NavLink to={`${path}`}>My Articles</NavLink>\n      </NavItem>\n      <NavItem>\n        <NavLink to={`${path}/favorites`}>Favorited Articles</NavLink>\n      </NavItem>\n    </ul>\n\n    {children}\n  </div>\n);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useStore } from 'effector-react';\nimport { Button } from 'ui';\nimport { model } from '../model';\n\nexport const EditMode: React.FC = () => {\n  const is = useStore(model.$isCurrentUser);\n\n  return !is ? null : (\n    <Link to=\"/settings\">\n      <Button className=\"btn-sm btn-outline-secondary action-btn\">\n        <i className=\"ion-gear-a\" /> Edit Profile Settings\n      </Button>\n    </Link>\n  );\n};\n","import React from 'react';\nimport { useStore } from 'effector-react';\nimport { Button } from 'ui';\nimport { model } from '../model';\n\ntype Props = Readonly<{\n  username: string;\n}>;\n\nexport const FollowUser: React.FC<Props> = ({ username }) => {\n  const following = useStore(model.$following);\n  const is = useStore(model.$isAnotherUser);\n\n  return !is ? null : (\n    <Button\n      className=\"btn-sm action-btn btn-secondary\"\n      onClick={model.toggleFollowing}>\n      <i className=\"ion-plus-round\" />\n      &nbsp;{following ? 'Unfollow' : 'Follow'} {username}\n    </Button>\n  );\n};\n","import React from 'react';\nimport { useStore } from 'effector-react';\nimport { Container, Row } from 'ui';\nimport { model } from '../model';\nimport { EditMode } from './edit-mode';\nimport { FollowUser } from './follow-user';\n\nexport const UserInfo: React.FC = () => {\n  const { image, username, bio } = useStore(model.$profile);\n\n  return (\n    <div className=\"user-info\">\n      <Container>\n        <Row>\n          <div className=\"col-xs-12 col-md-10 offset-md-1\">\n            <img alt={username} className=\"user-img\" src={image} />\n            <h4>{username}</h4>\n            {bio && <p>{bio}</p>}\n\n            <EditMode />\n            <FollowUser username={username} />\n          </div>\n        </Row>\n      </Container>\n    </div>\n  );\n};\n","import { forward, attach, guard } from 'effector';\nimport * as router from 'library/router';\nimport {\n  $profile,\n  $username,\n  PageGate,\n  fetchProfileFx,\n  toggleFollowing,\n  $thenSubscribed,\n  $thenUnsubscribed,\n  subscribeFx,\n  unsubscribeFx,\n} from './model';\n\n$profile.on(\n  [fetchProfileFx.doneData, subscribeFx.doneData, unsubscribeFx.doneData],\n  (_, payload) => payload,\n);\n$username.on(PageGate.state, (_, { url }) => url?.replace(/\\/@/, ''));\n\nforward({\n  from: $username,\n  to: attach({\n    source: $username,\n    effect: fetchProfileFx,\n  }),\n});\n\nguard({\n  source: toggleFollowing,\n  filter: $thenSubscribed,\n  target: attach({\n    source: $username,\n    effect: unsubscribeFx,\n  }),\n});\n\nguard({\n  source: toggleFollowing,\n  filter: $thenUnsubscribed,\n  target: attach({\n    source: $username,\n    effect: subscribeFx,\n  }),\n});\n\nsubscribeFx.failData.watch(({ status }) => {\n  if (status === 401) {\n    router.model.history.push(router.Paths.LOGIN);\n  }\n});\n","import React from 'react';\nimport { RouteConfigComponentProps, renderRoutes } from 'react-router-config';\nimport { useGate } from 'effector-react';\nimport { Container, Row } from 'ui';\nimport { routes } from '../library';\nimport { model } from '../model';\nimport { Tabs } from './tabs';\nimport { UserInfo } from './user-info';\n\nimport '../model/init';\n\ntype Props = Readonly<RouteConfigComponentProps<{ url: string }>>;\n\nexport const ProfilePage: React.FC<Props> = ({ match: { url } }) => {\n  useGate(model.PageGate, { url });\n\n  return (\n    <div className=\"profile-page\">\n      <UserInfo />\n      <Container>\n        <Row>\n          <Tabs path={url}>\n            <div>{renderRoutes(routes)}</div>\n          </Tabs>\n        </Row>\n      </Container>\n    </div>\n  );\n};\n","export { ProfilePage } from './ui/profile';\n","module.exports = function loadJSBundle(bundle) {\n  return new Promise(function (resolve, reject) {\n    var script = document.createElement('script');\n    script.async = true;\n    script.type = 'text/javascript';\n    script.charset = 'utf-8';\n    script.src = bundle;\n    script.onerror = function (e) {\n      script.onerror = script.onload = null;\n      reject(e);\n    };\n\n    script.onload = function () {\n      script.onerror = script.onload = null;\n      resolve();\n    };\n\n    document.getElementsByTagName('head')[0].appendChild(script);\n  });\n};\n"]}