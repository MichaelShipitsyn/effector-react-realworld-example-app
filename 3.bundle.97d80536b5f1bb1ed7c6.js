(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{O9Nu:function(e,t,n){"use strict";n.r(t),n.d(t,"FeedByTagPage",(function(){return $}));var r=n("mXGw"),o=n.n(r),a=n("dY8W"),c=n("TW3H"),i=n("UYjC"),u=n("SugE"),f=n("lyZd"),l=n("eZyy"),s=n("YzYS"),p=n("rPMT");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}var v=c.e(),y=v.Gate,O=v.favoriteToggled,j=v.$currentPage,h=v.$currentTag,w=v.$pageSize,P=v.setFavoriteArticleFx,S=v.setUnfavoriteArticleFx,E=Object(u.d)(),C=Object(u.c)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tag,r=t.page,e.next=3,l.a.get("articles?tag=".concat(encodeURIComponent(n),"&").concat(Object(s.a)(10,r)));case 3:return o=e.sent,a=o.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){m(a,r,o,c,i,"next",e)}function i(e){m(a,r,o,c,i,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}()),F=Object(f.status)({effect:C}),k=Object(u.e)({}).on(C.done,(function(e,t){var n=t.params,r=t.result;return b(b({},e),{},d({},n.tag,r))})),x=Object(u.b)(k,h,(function(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:{articles:[],articlesCount:0}})).on([P.done,S.done],(function(e,t){var n=t.params,r=t.result;return b(b({},e),{},{articles:e.articles.map((function(e){return e.slug!==n?e:b(b({},e),{},{favorited:r.article.favorited,favoritesCount:r.article.favoritesCount})}))})})),z=x.map((function(e){return e.articles})),Y=x.map((function(e){return e.articlesCount})),D=Object(u.b)(F,z,(function(e,t){return"done"===e&&0===t.length})),T=Object(u.b)({total:Y,loading:C.pending,isEmptyFeed:D,currentPage:j,pageSize:w,totalPages:Y});Object(u.f)({from:[y.open,E,Object(u.g)(h,{filter:Boolean})],to:Object(u.a)({source:{tag:h,page:j,pageSize:w},effect:C})}),Object(u.i)({source:{path:p.d.$pathname,tag:h},clock:E,fn:function(e,t){return{path:e.path,page:t,tag:e.tag}}}).watch((function(e){var t=e.path,n=e.page,r=e.tag;p.d.history.replace("".concat(t,"?tag=").concat(r,"&page=").concat(n))}));var $=function(){Object(a.b)(y);var e=Object(a.d)(T),t=e.isEmptyFeed,n=e.currentPage,r=e.pageSize,u=e.totalPages,f=e.loading;return o.a.createElement(o.a.Fragment,null,o.a.createElement(c.d,{show:t}),o.a.createElement(c.c,null,Object(a.c)(z,(function(e){return o.a.createElement("li",null,o.a.createElement(c.b,{data:e,onClick:function(){O(e)}}))}))),o.a.createElement(i.m,{current:n,pageSize:r,total:u,onItemClick:E}),o.a.createElement(i.o,{loading:f}))}},YzYS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return"limit=".concat(e,"&offset=").concat(t*e)}},lyZd:function(e,t,n){var r=n("YSF1").createStore,o=n("q0Di").readConfig;e.exports={status:function(e){var t=o(e,["sid","name","loc","effect","defaultValue"]),n=t.sid,a=t.name,c=t.loc,i=t.effect,u=t.defaultValue,f=r(void 0===u?"initial":u,{sid:n,loc:c,name:a});return f.on(i,(function(){return"pending"})).on(i.done,(function(){return"done"})).on(i.fail,(function(){return"fail"})),f}}},q0Di:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t,n){n.filter((function(t){return Boolean(e[t])})).forEach((function(n){t[n]=e[n]}))}e.exports={readConfig:function e(t,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"object"!==n(t)||null===t||(t.config&&e(t.config,o,a),r(t,a,o),t.ɔ&&e(t.ɔ,o,a)),a}}}}]);